# מערכת תשלומים להזמנות טיסות - איפיון משתמש

## תוכן עניינים
1. [סקירה כללית](#סקירה-כללית)
2. [ממשק המשתמש](#ממשק-המשתמש)
3. [בחירת נוסעים ומוצרים](#בחירת-נוסעים-ומוצרים)
4. [אמצעי תשלום](#אמצעי-תשלום)
5. [סיכום תשלום](#סיכום-תשלום)
6. [מגבלות והגבלות](#מגבלות-והגבלות)
7. [הודעות שגיאה ואימות](#הודעות-שגיאה-ואימות)
8. [תרחישי שימוש](#תרחישי-שימוש)

---

## סקירה כללית

### מטרת המערכת
מערכת תשלומים מתקדמת להזמנות טיסות המאפשרת למשתמשים:
- לבחור נוסעים ומוצרים לתשלום
- להשתמש במספר אמצעי תשלום שונים
- לחלק תשלומים בין מוצרים שונים
- לקבל סיכום מפורט בזמן אמת

### איך המערכת עובדת
1. **בחירה**: המשתמש בוחר נוסעים ומוצרים (כרטיס טיסה, מושב, מזוודה)
2. **תשלום**: המשתמש מוסיף אמצעי תשלום לכל מוצר
3. **סיכום**: המערכת מציגה סיכום מפורט של כל התשלומים
4. **אישור**: המשתמש מאשר את התשלום

---

## ממשק המשתמש

### מבנה המסך
המסך מחולק לשלושה חלקים עיקריים:

#### 1. צד שמאל - בחירת נוסעים ומוצרים
- **כרטיסי נוסעים**: כל נוסע מוצג בכרטיס נפרד
- **בחירת מוצרים**: לכל נוסע יש אפשרות לבחור:
  - ✅ כרטיס טיסה
  - ✅ בחירת מושב
  - ✅ מזוודה
- **מחירים**: כל מוצר מציג את המחיר שלו
- **סטטוס**: מוצרים שכבר שולמו מסומנים כ"שולם"

#### 2. צד ימין - אמצעי תשלום
- **טאבים**: כל נוסע עם מוצרים נבחרים מקבל טאב משלו
- **מידע בטאב**: שם הנוסע, סכום כולל, יתרה לתשלום
- **אמצעי תשלום**: כפתורים להוספת אמצעי תשלום
- **טופסים**: טופס מפורט לכל אמצעי תשלום

#### 3. תחתית - סיכום תשלום
- **סטטיסטיקות מהירות**: מספר נוסעים ומוצרים
- **פירוט מפורט**: פירוט לפי קטגוריות
- **סכום סופי**: סכום כולל לתשלום
- **כפתורי פעולה**: אישור או ביטול

---

## בחירת נוסעים ומוצרים

### איך לבחור מוצרים
1. **לחץ על התיבה** ליד המוצר הרצוי
2. **הנוסע נבחר אוטומטית** כשמבחרים מוצר שלו
3. **המחיר מתעדכן** בזמן אמת
4. **הטאב מופיע** בצד ימין עם פרטי הנוסע

### מה קורה כשמסירים בחירה
1. **המוצר מסומן כלא נבחר**
2. **אם אין מוצרים נבחרים** - הנוסע נמחק מהרשימה
3. **אמצעי התשלום נמחקים** אוטומטית
4. **הסיכום מתעדכן** מיד

### מגבלות בחירה
- **מוצר אחד בלבד** מכל סוג לכל נוסע
- **לא ניתן לבחור מוצרים שכבר שולמו**
- **חייב לבחור לפחות מוצר אחד** כדי להמשיך

---

## אמצעי תשלום

### סוגי אמצעי תשלום

#### 1. כרטיס אשראי 💳
**שדות נדרשים:**
- **מספר כרטיס**: 13-19 ספרות (עם פורמט אוטומטי)
- **שם בעל הכרטיס**: שם מלא
- **תאריך תפוגה**: MM/YY
- **CVV/קוד אישור**: 3-4 ספרות
- **מספר ת.ז**: מספר זהות
- **מספר תשלומים**: 1-5 תשלומים

**תכונות מיוחדות:**
- **זיהוי אוטומטי** של סוג הכרטיס (ויזה, מאסטרקארד, אמריקן אקספרס)
- **אייקון כרטיס** מוצג בתוך השדה
- **הגבלת סכום** לפי היתרה הנותרת

#### 2. שובר תשלום 🎫
**שדות נדרשים:**
- **מספר UATP**: 15 ספרות (תמיד מתחיל ב-1114-)
- **סכום**: נקבע אוטומטית לפי היתרה
- **יתרה**: סכום הכסף הזמין בשובר
- **תאריך תפוגה**: MM/YY

**תכונות מיוחדות:**
- **כפתור בדיקת יתרה** - בודק כמה כסף יש בשובר
- **עד 3 שוברים** לכל מוצר
- **התאמה אוטומטית** של הסכום לפי היתרה

#### 3. נקודות מועדון 🏆
**שדות נדרשים:**
- **מספר חבר**: 7-9 ספרות
- **Award Master**: A + 6 ספרות
- **סכום תשלום**: בדולרים
- **נקודות לשימוש**: מספר הנקודות

**תכונות מיוחדות:**
- **כפתור בדיקת נקודות** - בודק כמה נקודות יש לחבר
- **המרה אוטומטית**: 50 נקודות = 1 דולר
- **סליידר ויזואלי** לבחירת כמות הנקודות
- **הגבלה לפי נקודות זמינות**

### איך מוסיפים אמצעי תשלום
1. **לחץ על כפתור** "אשראי", "שובר" או "נקודות"
2. **הטופס נפתח** עם שדות ריקים
3. **מלא את הפרטים** הנדרשים
4. **הסכום מתעדכן** אוטומטית
5. **אמצעי תשלום אחר מתקפל** אוטומטית

### מגבלות אמצעי תשלום
- **עד 3 אמצעי תשלום** לכל מוצר
- **כרטיס אשראי אחד בלבד** לכל מוצר
- **עד 3 שוברים** לכל מוצר
- **נקודות אחד בלבד** לכל מוצר
- **סכום לא יכול לעלות** על היתרה הנותרת

---

## סיכום תשלום

### מה מוצג בסיכום
1. **סטטיסטיקות מהירות**:
   - מספר נוסעים נבחרים
   - מספר מוצרים נבחרים

2. **פירוט הזמנה**:
   - מחיר טיסות (לנוסעים נבחרים)
   - שירותים נוספים (מושבים ומזוודות)

3. **פירוט אמצעי תשלום**:
   - כרטיסי אשראי (עם סכומים)
   - שוברים (עם סכומים)
   - נקודות (עם סכומים)

4. **סיכום סופי**:
   - סכום כולל של ההזמנה
   - סכום כולל של המוצרים הנבחרים
   - סכום לתשלום

### עדכון בזמן אמת
- **כל שינוי** מתעדכן מיד בסיכום
- **חישובים אוטומטיים** של יתרות
- **אינדיקציות ויזואליות** למצב התשלום

---

## מגבלות והגבלות

### מגבלות בחירה
- **לא ניתן לבחור מוצרים שכבר שולמו**
- **חייב לבחור לפחות מוצר אחד** כדי להמשיך
- **לא ניתן לבחור מוצר פעמיים** לאותו נוסע

### מגבלות תשלום
- **סכום התשלום לא יכול לעלות** על מחיר המוצר
- **לא ניתן לשלם יותר** מהסכום הנדרש
- **אמצעי תשלום חייב להיות תקף** (תאריכים, פורמטים)

### מגבלות טכניות
- **עד 3 אמצעי תשלום** לכל מוצר
- **רק אמצעי תשלום אחד פתוח** בכל פעם
- **חייב למלא שדות חובה** לפני המשך

---

## הודעות שגיאה ואימות

### סוגי הודעות שגיאה

#### 1. שגיאות פורמט
- **מספר כרטיס לא תקין**: "מספר כרטיס חייב להכיל 13-19 ספרות"
- **תאריך תפוגה לא תקין**: "תאריך תפוגה חייב להיות בפורמט MM/YY"
- **מספר UATP לא תקין**: "מספר UATP חייב להתחיל ב-1114- ולהכיל 15 ספרות"

#### 2. שגיאות הגבלה
- **סכום גבוה מדי**: "הסכום לא יכול לעלות על $X.XX"
- **לא מספיק נקודות**: "אין מספיק נקודות. זמין: X נקודות"
- **יתרה נמוכה**: "היתרה בשובר נמוכה מהסכום הנדרש"

#### 3. שגיאות חובה
- **שדה ריק**: "שדה זה הוא חובה"
- **מספר חבר לא תקין**: "מספר חבר חייב להכיל 7-9 ספרות"

### איך מוצגות השגיאות
- **הודעות מתחת לשדות** (לא בחלונות קופצים)
- **צבע אדום** לטקסט השגיאה
- **ניקוי אוטומטי** כשהמשתמש מתקן

---

## תרחישי שימוש

### תרחיש 1: תשלום פשוט בכרטיס אשראי
1. **בחר נוסע** ומוצרים
2. **לחץ על "אשראי"**
3. **מלא פרטי כרטיס**
4. **הסכום מתמלא אוטומטית**
5. **אשר תשלום**

### תרחיש 2: תשלום מעורב (אשראי + שובר)
1. **בחר נוסע** ומוצרים
2. **הוסף כרטיס אשראי** לחלק מהסכום
3. **הוסף שובר** לשאר הסכום
4. **בדוק יתרה** בשובר
5. **אשר תשלום**

### תרחיש 3: תשלום בנקודות
1. **בחר נוסע** ומוצרים
2. **הוסף נקודות**
3. **הזן מספר חבר** ולחץ "בדוק"
4. **בחר כמות נקודות** עם הסליידר
5. **אשר תשלום**

### תרחיש 4: תשלום למספר נוסעים
1. **בחר מספר נוסעים** ומוצרים
2. **עבור בין הטאבים** של הנוסעים
3. **הוסף אמצעי תשלום** לכל נוסע
4. **בדוק סיכום כולל**
5. **אשר תשלום**

---

## טיפים לשימוש יעיל

### לפני שמתחילים
- **ודא שיש לך** את כל הפרטים הנדרשים
- **בדוק יתרות** בשוברים ונקודות
- **הכן מספרי כרטיסי אשראי** תקפים

### במהלך התשלום
- **השתמש בכפתורי הבדיקה** לוודא יתרות
- **בדוק את הסיכום** לפני אישור
- **אם יש שגיאה** - קרא את ההודעה מתחת לשדה

### אחרי התשלום
- **שמור אישור** של התשלום
- **בדוק שהסכום נכון** בסיכום
- **ודא שכל המוצרים** מסומנים כשולמו

---

## תמיכה ועזרה

### אם משהו לא עובד
1. **קרא את הודעת השגיאה** מתחת לשדה
2. **ודא שכל השדות** מלאים נכון
3. **בדוק שהסכומים** לא עולים על היתרה
4. **נסה לרענן** את הדף

### מידע נוסף
- **כל החישובים** מתבצעים בזמן אמת
- **המערכת שומרת** את ההתקדמות שלך
- **ניתן לשנות** אמצעי תשלום בכל עת
- **הסיכום מתעדכן** אוטומטית

---

*מערכת תשלומים מתקדמת להזמנות טיסות - נועדה להקל על תהליך התשלום ולהבטיח דיוק מקסימלי*
